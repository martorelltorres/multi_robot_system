<launch>
 <!-- Params -->
  <arg name="number_of_robots" default="2"/>
  <arg name="robot_1" default="turbot"/>
  <arg name="robot_2" default="xiroi"/>
  <arg name="mrsName" default="mrs"/>
  <arg name="place" default="bendinat.yaml"/>
  <arg name="enableIquaASV" default="false"/>
  <arg name="enableIquaAUV" default="false"/>
  <arg name="enableRviz" default="true"/>

  <!-- Launch the AUV Simulation -->
  <include  file="$(find cola2_turbot)/launch/simulation.launch">
    <arg name="enableIqua" value="$(arg enableIquaAUV)"/>
    <arg name="place" value="$(arg place)"/>
  </include>

  <!-- Launch the Xiroi Simulation -->
  <include  file="$(find cola2_xiroi)/launch/simulation.launch">
    <arg name="enableIqua" value="$(arg enableIquaASV)"/>
    <arg name="place" value="$(arg place)"/>
  </include>

  <!-- Launch the Multi Robot System -->

  <!-- Task Allocator -->
  <node name="task_allocator" pkg="multi_robot_system" type="task_allocator.py" output="screen" respawn="true">
    <rosparam command="load" file="$(find multi_robot_system)/config/task_allocator.yaml"/>
  </node>

  <!-- Coverage -->
  <group ns="$(arg robot_1)">
    <node name="multi_robot_system" pkg="multi_robot_system" type="multi_robot_system.py" output="screen" respawn="true">
        <!-- <param name="robot_name" value="$(arg robot_1)"/> -->
    </node>
  </group>
  <!-- <group ns="$(arg robot_2)">
    <node name="multi_robot_system" pkg="multi_robot_system" type="multi_robot_system.py" output="screen" respawn="true">
        <param name="robot_name" value="$(arg robot_2)"/>
    </node>
  </group> -->


  <!-- RViz -->
    <node if="$(arg enableRviz)" pkg="rviz" type="rviz" name="rviz" args="-d $(find multi_robot_system)/scene/MRS.rviz"/>

</launch>

