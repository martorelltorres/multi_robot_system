<launch>
 <!-- Params -->
  <arg name="place" default="bendinat.yaml"/>
  <arg name="enableIquaASV" default="false"/>
  <arg name="enableIquaAUV" default="false"/>
  <arg name="enableRviz" default="true"/>
  <arg name="robot_0" default="turbot"/>
  <arg name="robot_1" default="xiroi"/>

  <!-- Launch the Simulation -->
  <include  file="$(find cola2_turbot)/launch/simulation.launch">
    <arg name="enableIqua" value="$(arg enableIquaAUV)"/>
    <arg name="place" value="$(arg place)"/>
  </include>


  <!-- Launch the Xiroi Simulation -->
  <include  file="$(find cola2_xiroi)/launch/simulation.launch">
    <arg name="enableIqua" value="$(arg enableIquaASV)"/>
    <arg name="place" value="$(arg place)"/>
  </include>
  
   <!-- load the multi_robot_system.yaml parameters file -->
  <rosparam command="load" file="$(find multi_robot_system)/config/multi_robot_system.yaml"/>


  <!-- Robot 0 -->
  <node name="multi_robot_system_$(arg robot_0)" pkg="multi_robot_system" type="multirobot_system.py" output="screen" respawn="true">
    <param name="robot_ID" value="0"/>
    <param name="navigation_topic" value="/xiroi/navigator/navigation"/>
    <param name="section_action" value="/turbot/pilot/world_section_req"/>
    <param name="section_result" value="/turbot/pilot/world_section_req/result"/>
  </node>

  <!-- Robot 1 -->
  <node name="multi_robot_system_$(arg robot_1)" pkg="multi_robot_system" type="multirobot_system.py" output="screen" respawn="true">
    <param name="robot_ID" value="1"/>
    <param name="navigation_topic" value="/xiroi/navigator/navigation"/>
    <param name="section_action" value="/xiroi/pilot/world_section_req"/>
    <param name="section_result" value="/xiroi/pilot/world_section_req/result"/>
  </node>

  <!-- RViz -->
    <node if="$(arg enableRviz)" pkg="rviz" type="rviz" name="rviz" args="-d $(find multi_robot_system)/scene/MRS.rviz"/>

</launch>

